---
import Layout from '../layouts/Layout.astro';
import TalkCard from '../components/TalkCard.astro';
import {getTalks} from '../utils/processTalks'
import {Image} from 'astro:assets';
import gantt from "../assets/gantt.png"
import CoChairs from "../components/CoChairs.astro";
import CommitteeGrid from "../components/CommitteeGrid.astro";
import Feedback from "../components/Feedback.astro";

const {pastTalks, upcomingTalks} = await getTalks()
const nav_links = ["PC co-chairs", "Program committee", "Calendar", "Feedback"];
---

<Layout title="Scheduling Seminar">
    <!--Hero Content-->
    <div class="max-w-7xl mx-auto grid sm:grid-cols-12 gap-2 items-center justify-center">
        <div class="xs: m-10 sm:col-span-5 flex items-center justify-center">
            <Image src={gantt} class=" contrast-85 brightness-105 rounded-md" alt="Scheduling Seminar"/>
        </div>

        <div class="px-6 lg:px-8 sm:pt-12 pb-12 sm:col-span-7 text-center">
            <h1 class="text-5xl lg:text-6xl text-blue-600 font-bold mb-6">
                Scheduling Seminar
            </h1>

            <p class="text-sm mb-5">
                Objective of a virtual seminar on scheduling research and applications is to discuss both the field's
                newest
                advancements and survey traditional areas. Seminars take place typically on every second Wednesday
                through
                three different time zones
                (<span class="europe text-yellow-500">Europe, the Middle East &amp; Africa</span>,
                <span class="america text-orange-500">North America &amp; South America</span>, and
                <span class="asia text-blue-500">Asia, Australia &amp; Oceania</span>).
            </p>

            <nav class="flex flex-wrap gap-3 justify-center">
                {nav_links.map((name, i) => {
                    const tag = name.split(' ').join('_')
                    return (
                            <a href=`#${tag}`
                               class="px-4 py-2 bg-white/50 border-blue-600/85 border text-blue-700 hover:bg-blue-600/85 hover:text-white rounded-xl text-sm transition-colors">
                                {name}
                            </a>
                    )
                })}
                <a href="https://docs.google.com/spreadsheets/d/1Glyd6FGzoKtZGfClNA_XaIK8vJZtnu8K4OdNcPr_yHc/edit#gid=0"
                   class="px-4 py-2 bg-white/50 border-blue-600/85 border text-blue-700 hover:bg-blue-600/85 hover:text-white rounded-xl text-sm transition-colors flex flex-row items-center justify-center"
                   target="_blank">
                    <svg class="mr-1 size-5 stroke-current" width="16px" height="16px" viewBox="0 0 24 24" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <g id="Interface / External_Link">
                            <path id="Vector"
                                  d="M10.0002 5H8.2002C7.08009 5 6.51962 5 6.0918 5.21799C5.71547 5.40973 5.40973 5.71547 5.21799 6.0918C5 6.51962 5 7.08009 5 8.2002V15.8002C5 16.9203 5 17.4801 5.21799 17.9079C5.40973 18.2842 5.71547 18.5905 6.0918 18.7822C6.5192 19 7.07899 19 8.19691 19H15.8031C16.921 19 17.48 19 17.9074 18.7822C18.2837 18.5905 18.5905 18.2839 18.7822 17.9076C19 17.4802 19 16.921 19 15.8031V14M20 9V4M20 4H15M20 4L13 11"
                                  stroke-linecap="round" stroke-linejoin="round"/>
                        </g>
                    </svg>
                    Speaker List
                </a>
            </nav>
        </div>
    </div>

    <!--Social Media Links-->
    <div class="max-w-7xl mx-auto px-6 lg:px-8 mb-12">

        <div class="w-full flex justify-center gap-6">

            <div class="w-full grid grid-cols-2 md:grid-cols-4 gap-10">

                <a href="https://www.youtube.com/channel/UCUoCNnaAfw5NAntItILFn4A/live"
                   class="group relative bg-white p-2 sm:p-4 rounded-xl shadow-md hover:shadow-xl transition-all overflow-hidden flex flex-col items-center justify-center text-center h-full">
                    <div class="absolute inset-0 bg-gradient-to-br from-red-500 to-red-600 opacity-0 group-hover:opacity-10 transition-opacity"></div>
                    <div class="w-10 h-10 mb-1 bg-gradient-to-br from-red-500 to-red-600 text-white flex items-center justify-center rounded-lg group-hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                        </svg>
                    </div>
                    <p class="text-xs font-medium text-gray-700 leading-tight">Join us on YouTube</p>
                </a>

                <a href="https://list.iid.ciirc.cvut.cz/mailman3/lists/schedulingseminar.rtime.felk.cvut.cz/"
                   class="group relative bg-white p-4 sm:p-6 rounded-xl shadow-md hover:shadow-xl transition-all overflow-hidden flex flex-col items-center justify-center text-center h-full">
                    <div class="absolute inset-0 bg-gradient-to-br from-blue-500 to-blue-600 opacity-0 group-hover:opacity-10 transition-opacity"></div>
                    <div class="w-10 h-10 mb-1 bg-gradient-to-br from-blue-500 to-blue-600 text-white flex items-center justify-center rounded-lg group-hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <p class="text-xs font-medium text-gray-700 leading-tight">Subscribe to mailing list</p>
                </a>

                <a href="https://www.linkedin.com/groups/9047074/"
                   class="group relative bg-white p-4 sm:p-6 rounded-xl shadow-md hover:shadow-xl transition-all overflow-hidden flex flex-col items-center justify-center text-center h-full">
                    <div class="absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-700 opacity-0 group-hover:opacity-10 transition-opacity"></div>
                    <div class="w-10 h-10 mb-1 bg-gradient-to-br from-blue-600 to-blue-700 text-white flex items-center justify-center rounded-lg group-hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </div>
                    <p class="text-xs font-medium text-gray-700 leading-tight">Join LinkedIn group</p>
                </a>

                <a href="https://twitter.com/ZHanzalek"
                   class="group relative bg-white p-4 sm:p-6 rounded-xl shadow-md hover:shadow-xl transition-all overflow-hidden flex flex-col items-center justify-center text-center h-full">
                    <div class="absolute inset-0 bg-gradient-to-br from-sky-400 to-sky-500 opacity-0 group-hover:opacity-10 transition-opacity"></div>
                    <div class="w-10 h-10 mb-1 bg-gradient-to-br from-sky-400 to-sky-500 text-white flex items-center justify-center rounded-lg group-hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                        </svg>
                    </div>
                    <p class="text-xs font-medium text-gray-700 leading-tight">Follow on Twitter</p>
                </a>

            </div>

        </div>
    </div>
    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-6 lg:px-8 pb-20">
        <!-- Talks -->
        <div class="grid xl:grid-cols-2 gap-8">
            <!-- Upcoming Talks -->
            <div id="upcoming">
                <div class="flex items-center gap-3 mb-6">
                    <div class="w-1 h-8 bg-gradient-to-b from-blue-600 to-blue-400 rounded-full"></div>
                    <h2 class="text-3xl font-bold text-gray-800">Upcoming Talks</h2>
                </div>

                <div class="space-y-6">
                    {upcomingTalks.toReversed().map(talk => (
                            <TalkCard talk={talk} past={false}/>
                    ))}
                </div>
            </div>
            <!-- Past Talks -->
            <div>
                <div class="pl-2 flex items-center gap-3">
                    <div class="w-1 h-8 bg-gradient-to-b from-gray-600 to-gray-400 rounded-full"></div>
                    <h2 class="text-3xl font-bold text-gray-800">Past Talks</h2>
                    <div class="px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full">{pastTalks.length}</div>
                </div>

                {pastTalks.length > 0 && (
                        <>
                            <!-- Compact list of remaining talks in scrollable container -->
                            <div class="mt-6 p-2 max-h-[840px] overflow-y-auto space-y-3 pr-2 snap-y
                            scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 scroll-pt-2">
                                {pastTalks.map(talk => (
                                        <div class="snap-start"> <!-- Add this wrapper -->
                                            <TalkCard talk={talk} past={true} compactable={true}/>
                                        </div>
                                ))}
                            </div>
                            <div class="mt-2 text-center text-sm text-gray-500"> Scroll for all {pastTalks.length}
                                talks
                            </div>
                        </>
                )}
            </div>
        </div>

        <!-- Committee -->
        <CoChairs/>
        <CommitteeGrid/>

        <!-- Calendar and Feedback Section -->
        <div class="grid xl:grid-cols-2 gap-8">
            <section id="Calendar" class="mt-20">
                <div class="flex items-center gap-3 mb-6">
                    <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    <h2 class="text-3xl font-bold text-gray-800">Events Calendar</h2>
                </div>
                <div class="bg-white h-[625px] hover:shadow-xl rounded-2xl shadow-lg border border-gray-100 flex items-center justify-center">
                    <iframe src="https://calendar.google.com/calendar/embed?height=600&amp;wkst=2&amp;bgcolor=%234285F4&amp;ctz=Europe%2FPrague&amp;src=Mml0YXVjNmdhZGZsNjRsZWZxdDhiczgzZmtAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ&amp;color=%23039BE5&amp;showTitle=0&amp;showNav=1&amp;showDate=1&amp;showPrint=1&amp;showTabs=0&amp;showCalendars=0&amp;mode=AGENDA"
                            width="100%" height="100%" class="rounded-2xl"></iframe>
                </div>
            </section>
            <Feedback/>
        </div>

    </div>

</Layout>