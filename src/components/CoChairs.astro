---
import {Image} from "astro:assets";
import zdenek from '../assets/photos/Zdenek.jpg'
import pinedo from '../assets/photos/mpinedo.jpg'
import wan from '../assets/photos/guohua_wan.jpg'

const photos = [zdenek, pinedo, wan]
// Define the PC Co-Chairs data structure
const pcChairs = [
    {
        name: "Zdeněk Hanzálek",
        affiliation: "CTU in Prague",
        continent: "Europe",
        photo: "Zdenek.jpg",
        link: "https://rtime.ciirc.cvut.cz/~hanzalek/",
    },
    {
        name: "Michael Pinedo",
        affiliation: "New York Uni",
        continent: "North America",
        photo: "mpinedo.jpg",
        link: "https://www.stern.nyu.edu/faculty/bio/michael-pinedo",
    },
    {
        name: "Guohua Wan",
        affiliation: "Shanghai Jiao Tong",
        continent: "Asia",
        photo: "guohua_wan.jpg",
        link: "http://www.acem.sjtu.edu.cn/en/faculty/wanguohua.html",
    },
];

// Helper to generate initials if photo is missing
const getInitials = (name) => {
    return name.split(' ').map(n => n[0]).join('').toUpperCase();
};

// Continent colors mapping for background/border highlight
const continentColors = {
    'Europe': {
        bgColor: 'bg-yellow-50', // light yellow background
        borderColor: 'border-yellow-400',
    },
    'North America': {
        bgColor: 'bg-orange-50', // light orange background
        borderColor: 'border-orange-400',
    },
    'Asia': {
        bgColor: 'bg-blue-50', // light blue background
        borderColor: 'border-blue-400',
    },
};
---

<section class="py-12" id="PC_co-chairs">
    <div class="flex items-center gap-3 mb-6">
        <svg class="w-8 h-8 text-blue-600 stroke-current fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 297 297" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 297 297">
            <path d="m288.585,210.128h-46.948l12.851-116.652c1.164-10.568-2.237-21.172-9.332-29.091-7.095-7.919-17.262-12.461-27.894-12.461h-30.777c-4.768-16.484-19.986-28.577-37.986-28.577s-33.218,12.092-37.986,28.577h-30.775c-10.632,0-20.799,4.542-27.894,12.461-7.094,7.919-10.496,18.523-9.332,29.091l12.851,116.652h-46.948c-4.647,0-8.415,3.768-8.415,8.415v46.695c0,4.647 3.768,8.415 8.415,8.415h280.17c4.647,0 8.415-3.768 8.415-8.415v-46.695c-5.68434e-14-4.648-3.768-8.415-8.415-8.415zm-140.085-169.951c12.525,7.10543e-15 22.715,10.19 22.715,22.715 0,12.526-10.19,22.716-22.715,22.716s-22.715-10.19-22.715-22.716c0-12.525 10.19-22.715 22.715-22.715zm-89.259,51.456c-0.651-5.905 1.174-11.594 5.138-16.018 3.964-4.425 9.419-6.861 15.359-6.861h29.655c2.841,19.036 19.294,33.684 39.108,33.684s36.267-14.648 39.108-33.684h29.655c5.94,0 11.395,2.436 15.359,6.861 3.964,4.424 5.788,10.113 5.138,16.018l-13.054,118.494h-5.529v-57.63c0-16.88-10.759-31.809-26.774-37.146-0.064-0.021-11.176-3.432-11.176-3.432-4.281-1.317-8.841,0.956-10.375,5.163l-11.383,31.233c0,0-2.789-12.39-2.804-12.451l6.751-11.692c1.503-2.604 1.503-5.811 0-8.415s-4.281-4.207-7.288-4.207h-15.25c-3.007,0-5.784,1.604-7.288,4.207s-1.503,5.811 0,8.415l6.751,11.692c-0.015,0.061-2.804,12.451-2.804,12.451l-11.383-31.233c-1.533-4.207-6.096-6.481-10.375-5.163 0,0-11.112,3.411-11.176,3.432-16.015,5.338-26.774,20.266-26.774,37.146v57.63h-5.529l-13.06-118.494zm124.685,38.719l3.242,.995c9.082,3.07 15.177,11.557 15.177,21.151v57.63h-45.603l27.184-79.776zm-43.668,79.776h-45.603v-57.63c0-9.594 6.095-18.081 15.177-21.151l3.242-.995 27.184,79.776zm139.912,46.695h-263.34v-29.865h263.34v29.865z"/>
        </svg>
        <h2 class="text-3xl font-bold text-gray-800">Program Committee Co-chairs</h2>
    </div>
    <div>
    <div class="w-full grid grid-cols-1 md:grid-cols-3 gap-6 px-4">
        {pcChairs.map( (chair, idx) => {
            const colors = continentColors[chair.continent] || {
                bgColor: 'bg-gray-50',
                borderColor: 'border-gray-300',
            };

            return (
                    <a href={chair.link} target="_blank"
                       class={`block rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 ${colors.bgColor} border-b-4 ${colors.borderColor}`}>
                        <div class="p-6 flex flex-col items-center text-center">
                            {/* Photo/Initials */}
                            {chair.photo ? (
                                    <Image
                                            src={photos[idx]}
                                            alt={chair.name}
                                            class="w-40 h-40 object-cover rounded-xl shadow-md border-4 border-white mb-4"
                                            loading="lazy"
                                    />
                            ) : (
                                    <div class="w-40 h-40 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center text-white font-bold text-4xl shadow-md mb-4">
                                        {getInitials(chair.name)}
                                    </div>
                            )}

                            {/* Name and Affiliation */}
                            <h3 class="text-lg font-semibold text-gray-800 leading-snug">
                                {chair.name}
                            </h3>
                            <p class="text-sm text-gray-600">
                                {chair.affiliation}
                            </p>
                        </div>
                    </a>
            );
        })}
    </div>
</section>